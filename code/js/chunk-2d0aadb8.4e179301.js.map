{"version":3,"sources":["webpack:///./src/views/collection.vue?3a38","webpack:///./src/views/collection.vue?28b4","webpack:///src/views/collection.vue","webpack:///./src/views/collection.vue"],"names":["data","phone","version","agentNo","merchantNo","money","bankName","bankCard","bankCode","banks","313003","303","306","105","301","305","103","307","309","310","403","308","102","104","302","313062","304","fullscreenLoading","created","this","$stact","state","JSON","parse","token","message","mounted","$inputLen","inputJs","methods","IsMoney","value","replace","indexOf","parseFloat","toString","vm","$http","get","toNext","match","$message","center","offset","duration","type","$router","push","component","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","_v","attrs","_s","directives","name","rawName","expression","domProps","on","$event","target","composing","modifiers","staticRenderFns"],"mappings":"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","file":"js/chunk-2d0aadb8.4e179301.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hundred\"},[_c('div',{staticStyle:{\"height\":\"1px\"}}),_c('div',{staticClass:\"allFlex setInput wihitSet collectionPadd\"},[_c('div',{staticClass:\"setName\"},[_vm._v(\" 到账银行 \")]),_c('div',{staticClass:\"setRightLong textLeft\"},[_c('img',{staticClass:\"bankLogo\",attrs:{\"src\":_vm.banks[_vm.bankCode]?require((\"../assets/bank/\" + (_vm.banks[_vm.bankCode]) + \".png\")):require('../assets/bank/yl.png')}}),_c('span',{staticClass:\"bankRight\"},[_vm._v(_vm._s(_vm.bankName))]),_vm._v(\" 尾号\"+_vm._s(_vm.bankCard)+\" \")])]),_c('div',{staticClass:\"gray collection\"},[_vm._v(\"收款金额\")]),_c('div',{staticClass:\"peopleTitle\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.money),expression:\"money\"}],staticClass:\"peopleInput reatInput collectionInput\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入收款金额\"},domProps:{\"value\":(_vm.money)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.money=$event.target.value},function($event){return _vm.IsMoney()}]}})]),_c('div',{staticClass:\"whiteBack collectionTop\"},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:(_vm.fullscreenLoading),expression:\"fullscreenLoading\",modifiers:{\"fullscreen\":true,\"lock\":true}}],staticClass:\"transferConfirm\",attrs:{\"element-loading-background\":\"rgba(0, 0, 0, 0.7)\"},on:{\"click\":function($event){return _vm.toNext()}}},[_vm._v(\" 确认收款 \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./collection.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./collection.vue?vue&type=script&lang=js&\"","<template>\r\n  <div class='hundred'>\r\n    <div style='height:1px'></div>\r\n    <div class='allFlex setInput wihitSet collectionPadd'>\r\n        <div class='setName'>\r\n            到账银行\r\n        </div>\r\n        <div class='setRightLong textLeft'>\r\n            <img :src=\"banks[bankCode]?require(`../assets/bank/${banks[bankCode]}.png`):require('../assets/bank/yl.png')\" class='bankLogo' /><span class='bankRight'>{{bankName}}</span> 尾号{{bankCard}}\r\n        </div>\r\n    </div>\r\n    <div class='gray collection'>收款金额</div>\r\n    <div class='peopleTitle'>\r\n      <input type='text' class='peopleInput reatInput collectionInput' v-model='money' @input='IsMoney()' placeholder='请输入收款金额' />\r\n    </div>\r\n    <!--<div class='retreatRemarks whiteBack collectionRemarks'>\r\n      收款时间：10:00 - 22:00\r\n    </div> -->\r\n    <div class='whiteBack collectionTop'>\r\n        <div class='transferConfirm' @click='toNext()' element-loading-background=\"rgba(0, 0, 0, 0.7)\" v-loading.fullscreen.lock='fullscreenLoading'>\r\n            确认收款\r\n        </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      phone: '',\r\n      version: '',\r\n      agentNo: '',\r\n      merchantNo: '',\r\n      money: '',\r\n      bankName: '',\r\n      bankCard: '',\r\n      bankCode: 0,\r\n      banks: {\r\n        313003: 'bj',\r\n        303: 'gd',\r\n        306: 'gf',\r\n        105: 'js',\r\n        301: 'jt',\r\n        305: 'ms',\r\n        103: 'ny',\r\n        307: 'pa',\r\n        309: 'xy',\r\n        310: 'pf',\r\n        403: 'yz',\r\n        308: 'zs',\r\n        102: 'gs',\r\n        104: 'zg',\r\n        302: 'zx',\r\n        313062: 'sh',\r\n        304: 'hx'\r\n      },\r\n      fullscreenLoading: false\r\n    }\r\n  },\r\n  created () {\r\n    this.version = this.$stact.state.version\r\n    this.agentNo = this.$stact.state.agentNo\r\n    this.merchantNo = JSON.parse(this.$stact.state.token)[0].merchantNo\r\n    this.message()\r\n  },\r\n  mounted () {\r\n    this.$inputLen.inputJs()\r\n  },\r\n  methods: {\r\n    IsMoney () { // 限制\r\n      let vm = this\r\n      let value = vm.money\r\n      value = value.replace(/[^\\d.]/g, '') // 清除“数字”和“.”以外的字符\r\n      value = value.replace(/\\.{2,}/g, '.') // 只保留第一个. 清除多余的\r\n      value = value.replace('.', '$#$').replace(/\\./g, '').replace('$#$', '.')\r\n      value = value.replace(/^(-)*(\\d+)\\.(\\d\\d).*$/, '$1$2.$3') // 只能输入两个小数\r\n      if (value.indexOf('.') < 0 && value !== '') { // 以上已经过滤,此处控制的是如果没有小数点,首位不能为类似于 01、02的金额\r\n        value = parseFloat(value)\r\n      }\r\n      vm.money = value.toString()\r\n    },\r\n    message () {\r\n      let vm = this\r\n      let parmas = {\r\n        '0': '0700',\r\n        '3': '190112',\r\n        '42': vm.merchantNo,\r\n        '59': vm.version\r\n      }\r\n      let url = vm.$utils.queryParams(vm.$mdata.mdGet(parmas))\r\n      vm.fullscreenLoading = true\r\n      vm.$http.get(`request.app${url}`)\r\n        .then(res => {\r\n          vm.fullscreenLoading = false\r\n          if (res.data[39] === '00') {\r\n            vm.$stact.dispatch('SetToken', res.data[57]) // 存token\r\n            vm.bankName = JSON.parse(this.$stact.state.token)[0].bankDetail\r\n            vm.bankCard = JSON.parse(this.$stact.state.token)[0].bankAccount\r\n            vm.bankCard = vm.bankCard.substring(vm.bankCard.length - 4, vm.bankCard.length)\r\n            vm.bankCode = JSON.parse(this.$stact.state.token)[0].bankCode\r\n          }\r\n        })\r\n        .catch(err => {\r\n          vm.fullscreenLoading = false\r\n          console.log(err)\r\n        })\r\n    },\r\n    toNext () {\r\n      let vm = this\r\n      if (vm.money.match(/^[ ]*$/)) {\r\n        vm.$message({\r\n          message: '金额不能为空',\r\n          center: true,\r\n          offset: 30,\r\n          duration: 2500,\r\n          type: 'warning'\r\n        })\r\n        return\r\n      }\r\n      vm.$router.push({ name: 'select', query: { money: vm.money } })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render, staticRenderFns } from \"./collection.vue?vue&type=template&id=f98bc788&\"\nimport script from \"./collection.vue?vue&type=script&lang=js&\"\nexport * from \"./collection.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}