(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d230c8e"],{ee80:function(e,t,s){"use strict";s.r(t);var a=(s("466d"),{data:function(){return{time:0,text:"获取验证码",version:"",agentNo:"",phone:"",code:"",password:"",newPassword:"",invite:"",fullscreenLoading:!1,topTure:0}},created:function(){this.version=this.$stact.state.version,this.agentNo=this.$stact.state.agentNo,this.invite=JSON.parse(this.$stact.state.token)[0].phone},mounted:function(){this.$inputLen.inputJs()},methods:{getCode:function(){var e=this;if(this.phone.match(/^[ ]*$/))this.$message({message:"手机号码必须填写",center:!0,offset:30,duration:2500,type:"warning"});else if(/^1[1-9]\d{9}$/.test(this.phone)){var t={0:"0700",1:e.phone,3:"190919",5:"2",44:e.agentNo,59:e.version},s=e.$utils.queryParams(e.$mdata.mdGet(t));e.fullscreenLoading=!0,e.$http.get("request.app".concat(s)).then((function(t){e.fullscreenLoading=!1,"00"===t.data[39]?(e.$message({message:"发送成功",center:!0,offset:30,duration:2500,type:"success"}),e.sendMail()):e.$message({message:t.data[39],center:!0,offset:30,duration:2500,type:"success"})})).catch((function(t){e.fullscreenLoading=!1}))}else this.$message({message:"手机号码有误，请重填",center:!0,offset:30,duration:2500,type:"warning"})},sendMail:function(){this.time=120,this.timer()},timer:function(){this.time>0?(this.text="".concat(this.time--,"后可重发"),setTimeout(this.timer,1e3)):this.text="重新获取"},registered:function(){var e=this,t=this;if(this.phone.match(/^[ ]*$/))this.$message({message:"手机号码必须填写",center:!0,offset:30,duration:2e3,type:"warning"});else if(/^1[1-9]\d{9}$/.test(this.phone))if(this.code.match(/^[ ]*$/))this.$message({message:"验证码必须填写",center:!0,offset:30,duration:2e3,type:"warning"});else if(this.password.match(/^[ ]*$/))this.$message({message:"密码必须填写",center:!0,offset:30,duration:2e3,type:"warning"});else if(this.newPassword.match(/^[ ]*$/))this.$message({message:"确认新密码必须填写",center:!0,offset:30,duration:2e3,type:"warning"});else if(this.password===this.newPassword){var s={0:"0700",1:t.phone,3:"190918",8:t.$md5(t.password),44:t.agentNo,45:t.invite,52:t.code,59:t.version},a=t.$utils.queryParams(t.$mdata.mdGet(s));t.fullscreenLoading=!0,t.$http.get("request.app".concat(a)).then((function(s){t.fullscreenLoading=!1,"00"===s.data[39]?(e.$message({message:"注册成功",center:!0,offset:30,duration:2e3,type:"success"}),t.$router.go(-1)):t.$message({message:s.data[39],center:!0,offset:30,duration:2e3,type:"success"})})).catch((function(e){t.fullscreenLoading=!1}))}else this.$message({message:"新密码和确认密码不一致",center:!0,offset:30,duration:2e3,type:"warning"});else this.$message({message:"手机号码有误，请重填",center:!0,offset:30,duration:2e3,type:"warning"})}}}),n=s("2877"),i=Object(n.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"smsMargin"},[s("div",{staticClass:"loginInput regInput"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"text",placeholder:"请输入注册手机号",oninput:"this.value=this.value.replace(/[^\\d]/g,'')",onafterpaste:"this.value=this.value.replace(/[^\\d]/g,'')"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})]),s("div",{staticClass:"loginInput regInput"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],staticClass:"smsInput",attrs:{type:"number",placeholder:"请输入验证码",oninput:"this.value=this.value.replace(/[^\\d]/g,'')",onafterpaste:"this.value=this.value.replace(/[^\\d]/g,'')"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),s("div",{staticClass:"smsCode"},[s("span",{staticClass:"smsBorder",on:{click:function(t){e.time<=0&&e.getCode()}}},[e._v(" "+e._s(e.text)+" ")])])]),s("div",{staticClass:"loginInput regInput"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),s("div",{staticClass:"loginInput regInput"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newPassword,expression:"newPassword"}],attrs:{type:"password",placeholder:"请确认密码"},domProps:{value:e.newPassword},on:{input:function(t){t.target.composing||(e.newPassword=t.target.value)}}})]),s("div",{staticClass:"loginTo"},[s("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"blue",attrs:{"element-loading-background":"rgba(0, 0, 0, 0.7)"},on:{click:function(t){return e.registered()}}},[e._v(" 下一步 ")])])])}),[],!1,null,null,null);t.default=i.exports}}]);
//# sourceMappingURL=chunk-2d230c8e.ef2cec63.js.map