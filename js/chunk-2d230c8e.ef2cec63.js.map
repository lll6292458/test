{"version":3,"sources":["webpack:///./src/views/share/reg.vue?a192","webpack:///./src/views/share/reg.vue?6fc7","webpack:///src/views/share/reg.vue","webpack:///./src/views/share/reg.vue"],"names":["data","time","text","version","agentNo","phone","code","password","newPassword","invite","fullscreenLoading","topTure","created","this","$stact","state","JSON","parse","token","mounted","$inputLen","inputJs","methods","getCode","match","$message","message","center","offset","duration","type","vm","$http","get","sendMail","timer","setTimeout","registered","$md5","component","_vm","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","attrs","domProps","on","$event","target","composing","_v","_s","modifiers","staticRenderFns"],"mappings":"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","file":"js/chunk-2d230c8e.ef2cec63.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"smsMargin\"},[_c('div',{staticClass:\"loginInput regInput\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.phone),expression:\"phone\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入注册手机号\",\"oninput\":\"this.value=this.value.replace(/[^\\\\d]/g,'')\",\"onafterpaste\":\"this.value=this.value.replace(/[^\\\\d]/g,'')\"},domProps:{\"value\":(_vm.phone)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.phone=$event.target.value}}})]),_c('div',{staticClass:\"loginInput regInput\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.code),expression:\"code\"}],staticClass:\"smsInput\",attrs:{\"type\":\"number\",\"placeholder\":\"请输入验证码\",\"oninput\":\"this.value=this.value.replace(/[^\\\\d]/g,'')\",\"onafterpaste\":\"this.value=this.value.replace(/[^\\\\d]/g,'')\"},domProps:{\"value\":(_vm.code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.code=$event.target.value}}}),_c('div',{staticClass:\"smsCode\"},[_c('span',{staticClass:\"smsBorder\",on:{\"click\":function($event){_vm.time <= 0 ? _vm.getCode() : ''}}},[_vm._v(\" \"+_vm._s(_vm.text)+\" \")])])]),_c('div',{staticClass:\"loginInput regInput\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})]),_c('div',{staticClass:\"loginInput regInput\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newPassword),expression:\"newPassword\"}],attrs:{\"type\":\"password\",\"placeholder\":\"请确认密码\"},domProps:{\"value\":(_vm.newPassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newPassword=$event.target.value}}})]),_c('div',{staticClass:\"loginTo\"},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:(_vm.fullscreenLoading),expression:\"fullscreenLoading\",modifiers:{\"fullscreen\":true,\"lock\":true}}],staticClass:\"blue\",attrs:{\"element-loading-background\":\"rgba(0, 0, 0, 0.7)\"},on:{\"click\":function($event){return _vm.registered()}}},[_vm._v(\" 下一步 \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reg.vue?vue&type=script&lang=js&\"","<template>\r\n  <div class='smsMargin'>\r\n    <div class='loginInput regInput'>\r\n      <input type=\"text\" placeholder='请输入注册手机号' v-model='phone' oninput=\"this.value=this.value.replace(/[^\\d]/g,'')\" onafterpaste=\"this.value=this.value.replace(/[^\\d]/g,'')\"/>\r\n    </div>\r\n    <div class='loginInput regInput'>\r\n      <input type=\"number\" class='smsInput' placeholder='请输入验证码' v-model='code' oninput=\"this.value=this.value.replace(/[^\\d]/g,'')\" onafterpaste=\"this.value=this.value.replace(/[^\\d]/g,'')\"/>\r\n      <div class='smsCode'>\r\n        <span @click=\"time <= 0 ? getCode() : ''\" class='smsBorder'>\r\n          {{text}}\r\n        </span>\r\n      </div>\r\n    </div>\r\n    <div class='loginInput regInput'>\r\n      <input type=\"password\" placeholder='请输入密码' v-model='password' />\r\n    </div>\r\n    <div class='loginInput regInput'>\r\n      <input type=\"password\" placeholder='请确认密码' v-model='newPassword' />\r\n    </div>\r\n    <div  class='loginTo'>\r\n      <div class='blue' @click='registered()' element-loading-background=\"rgba(0, 0, 0, 0.7)\" v-loading.fullscreen.lock='fullscreenLoading' >\r\n        下一步\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      time: 0,\r\n      text: '获取验证码',\r\n      version: '',\r\n      agentNo: '',\r\n      phone: '',\r\n      code: '',\r\n      password: '',\r\n      newPassword: '',\r\n      invite: '',\r\n      fullscreenLoading: false,\r\n      topTure: 0\r\n    }\r\n  },\r\n  created () {\r\n    this.version = this.$stact.state.version\r\n    this.agentNo = this.$stact.state.agentNo\r\n    this.invite = JSON.parse(this.$stact.state.token)[0].phone\r\n  },\r\n  mounted () {\r\n    this.$inputLen.inputJs()\r\n  },\r\n  methods: {\r\n    getCode () { // 获取验证码\r\n      let vm = this\r\n      if (this.phone.match(/^[ ]*$/)) {\r\n        this.$message({\r\n          message: '手机号码必须填写',\r\n          center: true,\r\n          offset: 30,\r\n          duration: 2500,\r\n          type: 'warning'\r\n        })\r\n        return\r\n      }\r\n      if (!(/^1[1-9]\\d{9}$/.test(this.phone))) {\r\n        this.$message({\r\n          message: '手机号码有误，请重填',\r\n          center: true,\r\n          offset: 30,\r\n          duration: 2500,\r\n          type: 'warning'\r\n        })\r\n        return\r\n      }\r\n      let parmas = {\r\n        '0': '0700',\r\n        '1': vm.phone,\r\n        '3': '190919',\r\n        '5': '2',\r\n        '44': vm.agentNo,\r\n        '59': vm.version\r\n      }\r\n      let url = vm.$utils.queryParams(vm.$mdata.mdGet(parmas))\r\n      vm.fullscreenLoading = true\r\n      vm.$http.get(`request.app${url}`)\r\n        .then(res => {\r\n          vm.fullscreenLoading = false\r\n          if (res.data[39] === '00') {\r\n            vm.$message({\r\n              message: '发送成功',\r\n              center: true,\r\n              offset: 30,\r\n              duration: 2500,\r\n              type: 'success'\r\n            })\r\n            vm.sendMail()\r\n          } else {\r\n            vm.$message({\r\n              message: res.data[39],\r\n              center: true,\r\n              offset: 30,\r\n              duration: 2500,\r\n              type: 'success'\r\n            })\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n          vm.fullscreenLoading = false\r\n        })\r\n    },\r\n    sendMail () { // 倒计时\r\n      this.time = 120\r\n      this.timer()\r\n    },\r\n    timer () { // 倒计时中\r\n      if (this.time > 0) {\r\n        this.text = `${this.time--}后可重发`\r\n        setTimeout(this.timer, 1000)\r\n      } else {\r\n        this.text = '重新获取'\r\n      }\r\n    },\r\n    registered () { // 注册\r\n      let vm = this\r\n      if (this.phone.match(/^[ ]*$/)) {\r\n        this.$message({\r\n          message: '手机号码必须填写',\r\n          center: true,\r\n          offset: 30,\r\n          duration: 2000,\r\n          type: 'warning'\r\n        })\r\n        return\r\n      }\r\n      if (!(/^1[1-9]\\d{9}$/.test(this.phone))) {\r\n        this.$message({\r\n          message: '手机号码有误，请重填',\r\n          center: true,\r\n          offset: 30,\r\n          duration: 2000,\r\n          type: 'warning'\r\n        })\r\n        return\r\n      }\r\n      if (this.code.match(/^[ ]*$/)) {\r\n        this.$message({\r\n          message: '验证码必须填写',\r\n          center: true,\r\n          offset: 30,\r\n          duration: 2000,\r\n          type: 'warning'\r\n        })\r\n        return\r\n      }\r\n      if (this.password.match(/^[ ]*$/)) {\r\n        this.$message({\r\n          message: '密码必须填写',\r\n          center: true,\r\n          offset: 30,\r\n          duration: 2000,\r\n          type: 'warning'\r\n        })\r\n        return\r\n      }\r\n      if (this.newPassword.match(/^[ ]*$/)) {\r\n        this.$message({\r\n          message: '确认新密码必须填写',\r\n          center: true,\r\n          offset: 30,\r\n          duration: 2000,\r\n          type: 'warning'\r\n        })\r\n        return\r\n      }\r\n      if (this.password !== this.newPassword) {\r\n        this.$message({\r\n          message: '新密码和确认密码不一致',\r\n          center: true,\r\n          offset: 30,\r\n          duration: 2000,\r\n          type: 'warning'\r\n        })\r\n        return\r\n      }\r\n      let parmas = {\r\n        '0': '0700',\r\n        '1': vm.phone,\r\n        '3': '190918',\r\n        '8': vm.$md5(vm.password),\r\n        '44': vm.agentNo,\r\n        '45': vm.invite,\r\n        '52': vm.code,\r\n        '59': vm.version\r\n      }\r\n      let url = vm.$utils.queryParams(vm.$mdata.mdGet(parmas))\r\n      vm.fullscreenLoading = true\r\n      vm.$http.get(`request.app${url}`)\r\n        .then(res => {\r\n          vm.fullscreenLoading = false\r\n          if (res.data[39] === '00') {\r\n            this.$message({\r\n              message: '注册成功',\r\n              center: true,\r\n              offset: 30,\r\n              duration: 2000,\r\n              type: 'success'\r\n            })\r\n            vm.$router.go(-1)\r\n          } else {\r\n            vm.$message({\r\n              message: res.data[39],\r\n              center: true,\r\n              offset: 30,\r\n              duration: 2000,\r\n              type: 'success'\r\n            })\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n          vm.fullscreenLoading = false\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render, staticRenderFns } from \"./reg.vue?vue&type=template&id=4b9c287a&\"\nimport script from \"./reg.vue?vue&type=script&lang=js&\"\nexport * from \"./reg.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}